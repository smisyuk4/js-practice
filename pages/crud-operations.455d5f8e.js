const t={autorForm:document.querySelector(".autor-form"),sendBtn:document.querySelector(".autor-form button"),autorBase:document.querySelector(".autor-base"),getAutor:document.querySelector(".get-autor"),inputAutor:document.querySelectorAll(".get-autor input"),resultGetAutor:document.querySelector(".result"),getBtn:document.querySelector(".get-autor button"),sortBtns:document.querySelector(".sort-buttons")};t.autorForm.addEventListener("input",(function(e){let n=null;new FormData(e.currentTarget).forEach(((t,e)=>{""!==t&&(n+=1)})),4===n&&t.sendBtn.removeAttribute("disabled")})),t.autorForm.addEventListener("submit",(function(o){o.preventDefault();let a=[];new FormData(o.currentTarget).forEach(((t,n)=>{"skills"!==n?e[n]=t.trim():(a=[...a,t],e[n]=a)})),console.log(e),(s=e,n("",{method:"POST",body:JSON.stringify(s),headers:{"Content-Type":"application/json; charset=UTF-8"}})).then((e=>{t.autorBase.innerHTML="",r()})),o.target.reset(),t.sendBtn.setAttribute("disabled",!0);var s})),t.getAutor.addEventListener("input",(function(e){let n=null;new FormData(e.currentTarget).forEach(((t,e)=>{""!==t&&(n+=1,console.log(e))})),1===n&&t.getBtn.removeAttribute("disabled");t.inputAutor.forEach((t=>{t.value||t.setAttribute("disabled",!0)}))})),t.getAutor.addEventListener("submit",(function(e){let r;e.preventDefault();new FormData(e.currentTarget).forEach((t=>{t&&(r=t)})),console.log(r),function(e){console.log(e),n(e,{}).then((e=>{t.resultGetAutor.innerHTML="<p>result</p>";const n=o(e);t.resultGetAutor.insertAdjacentHTML("beforeend",n)}))}(r),e.target.reset(),t.getBtn.setAttribute("disabled",!0)}));const e={};function n(t,e){const n="http://localhost:1986/autor/";let r;return t&&(r=n+t),t||(r=n),fetch(r,e).then((t=>{if(!t.ok)throw new Error(t.status);return t.json()}))}function r(){n().then((t=>t)).then((e=>{console.log(e);const n=e.map((t=>o(t))).join("");t.autorBase.insertAdjacentHTML("beforeend",n)})).catch((e=>{console.log(e);t.autorBase.insertAdjacentHTML("beforeend","<p class='error'>Sorry! Connection with database is failed ðŸ‘€</p>")}))}function o(t){const{id:e,name:n,surname:r,email:o,number:a,skills:s}=t;return s?s?`<ul class="autor">\n                <li><span>Id:</span>${e}</li>\n                <li><span>Name:</span>${n}</li>\n                <li><span>Surname:</span>${r}</li>\n                <li><span>Email:</span>${o}</li>\n                <li><span>Number:</span>${a}</li>\n                <li><span>Skills:</span>${s.join(", ")}</li>\n            </ul>`:void 0:`<ul class="autor">\n                <li><span>Id:</span>${e}</li>\n                <li><span>Name:</span>${n}</li>\n                <li><span>Surname:</span>${r}</li>\n                <li><span>Email:</span>${o}</li>\n                <li><span>Number:</span>${a}</li>\n            </ul>`}r();
//# sourceMappingURL=crud-operations.455d5f8e.js.map
