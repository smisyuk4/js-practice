!function(){const n={autorForm:document.querySelector(".autor-form"),sendBtn:document.querySelector(".autor-form button"),sortBtns:document.querySelector(".sort-buttons"),autorBase:document.querySelector(".autor-base")};n.autorForm.addEventListener("input",(function(e){let t=null;new FormData(e.currentTarget).forEach(((n,e)=>{""!==n&&(t+=1)})),4===t&&n.sendBtn.removeAttribute("disabled")})),n.autorForm.addEventListener("submit",(function(r){r.preventDefault();let s=[];new FormData(r.currentTarget).forEach(((n,t)=>{"skills"!==t?e[t]=n.trim():(s=[...s,n],e[t]=s)})),console.log(e),(o=e,t({method:"POST",body:JSON.stringify(o),headers:{"Content-Type":"application/json; charset=UTF-8"}})).then((e=>{n.autorBase.innerHTML="",a()})),r.target.reset(),n.sendBtn.setAttribute("disabled",!0);var o}));const e={};function t(n){return fetch("http://localhost:1986/user",n).then((n=>{if(!n.ok)throw new Error(n.status);return n.json()}))}function a(){t().then((n=>n)).then((e=>{console.log(e);const t=e.map((n=>function(n){const{id:e,name:t,surname:a,email:r,number:s,skills:o}=n;if(!o)return`<ul class="autor">\n                <li><span>Id:</span>${e}</li>\n                <li><span>Name:</span>${t}</li>\n                <li><span>Surname:</span>${a}</li>\n                <li><span>Email:</span>${r}</li>\n                <li><span>Number:</span>${s}</li>\n            </ul>`;if(o)return`<ul class="autor">\n                <li><span>Id:</span>${e}</li>\n                <li><span>Name:</span>${t}</li>\n                <li><span>Surname:</span>${a}</li>\n                <li><span>Email:</span>${r}</li>\n                <li><span>Number:</span>${s}</li>\n                <li><span>Skills:</span>${o.join(", ")}</li>\n            </ul>`}(n))).join("");n.autorBase.insertAdjacentHTML("beforeend",t)})).catch((e=>{console.log(e);n.autorBase.insertAdjacentHTML("beforeend","<p class='error'>Sorry! Connection with database is failed ðŸ‘€</p>")}))}a()}();
//# sourceMappingURL=crud-operations.0700734d.js.map
