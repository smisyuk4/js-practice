{"mappings":"AAEA,MAAMA,KAAO,CACTC,MAAOC,SAASC,cAAc,SAC9BC,UAAWF,SAASC,cAAc,SAClCE,gBAAiBH,SAASC,cAAc,eACxCG,aAAcJ,SAASC,cAAc,YACrCI,aAAcL,SAASC,cAAc,kBACrCK,UAAWN,SAASC,cAAc,gBAGtC,IAAIM,QAAU,GACd,MAAMC,KAAO,KACPC,WAAa,KACbC,QAAU,KAEVC,sBAAwBC,aAAaC,QAAQ,aAEnD,GAA8B,OAA1BF,sBAAgC,CAChC,MAAMG,EAAsBC,KAAKC,MAAML,uBACvCM,QAAQC,IAAIJ,GAEZ,MAAMK,EAAaL,EAAoBM,KAAIC,GAChC,iCACWA,EAAKb,sCACLa,EAAKZ,4CACLY,EAAKX,wCAI3BZ,KAAKC,MAAMuB,mBAAmB,YAAaH,EAAWI,KAAK,I,CAG/D,MAAMC,iBAAmB,KACrB,GAA6B,KAAzB1B,KAAKI,UAAUuB,OACgB,KAA/B3B,KAAKK,gBAAgBsB,OACO,KAA5B3B,KAAKM,aAAaqB,MAClB,OAGJ,MAAMC,EAAS,qCACW5B,KAAKI,UAAUuB,2CACf3B,KAAKK,gBAAgBsB,2CACrB3B,KAAKM,aAAaqB,wCAG5C3B,KAAKC,MAAMuB,mBAAmB,YAAaI,GAE3C,MAAMC,EAAU,CACZnB,KAAMV,KAAKI,UAAUuB,MACrBhB,WAAYX,KAAKK,gBAAgBsB,MACjCf,QAASZ,KAAKM,aAAaqB,OAG/B,IACI,MAAMd,EAAwBC,aAAaC,QAAQ,aAOnD,GAL8B,OAA1BF,IACAJ,QAAU,IAAIA,QAASoB,GACvBf,aAAagB,QAAQ,YAAab,KAAKc,UAAUtB,WAGvB,OAA1BI,EAAgC,CAChC,MAAMG,EAAsBC,KAAKC,MAAML,GACvCJ,QAAU,IAAIO,EAAqBa,GACnCf,aAAagB,QAAQ,YAAab,KAAKc,UAAUtB,S,EAEvD,MAAOuB,GACLb,QAAQC,IAAIY,EAAMC,Q,CAGtBjC,KAAKI,UAAUuB,MAAQ,GACvB3B,KAAKK,gBAAgBsB,MAAQ,GAC7B3B,KAAKM,aAAaqB,MAAQ,EAAE,EAG1BO,oBAAsB,KAGxB,GAFAlC,KAAKmC,KAAOjC,SAASkC,iBAAiB,YAEb,IAArBpC,KAAKmC,KAAKE,OAAd,CAIA,IACI,MAAMC,EAAsBxB,aAAaC,QAAQ,aAEjD,GAA4B,OAAxBuB,EAA8B,CAC9B,MAAMtB,EAAsBC,KAAKC,MAAMoB,GAEnCtB,EAAoBqB,OAAS,GAC7BrB,EAAoBuB,MACpBzB,aAAagB,QAAQ,YAAab,KAAKc,UAAUf,KAEjDF,aAAa0B,WAAW,Y,EAGlC,MAAOR,GACLb,QAAQC,IAAIY,EAAMC,Q,CAGtBjC,KAAKmC,KAAKnC,KAAKmC,KAAKE,OAAO,GAAGI,QApB1B,CAoBkC,EAG1CzC,KAAKQ,UAAUkC,iBAAiB,QAAShB,kBAEzC1B,KAAKO,aAAamC,iBAAiB,QAASR","sources":["src/js/task-6.js"],"sourcesContent":["// import lodash.throttle\n\nconst refs = {    \n    tbody: document.querySelector('tbody'),\n    inputName: document.querySelector('.name'),\n    inputPopulation: document.querySelector('.population'),\n    inputPersent: document.querySelector('.persent'),\n    buttonRemove: document.querySelector('.button-remove'),\n    buttonAdd: document.querySelector('.button-add'),\n}\n\nlet arrData = [];\nconst NAME = null;\nconst POPULATION = null;\nconst PERSENT = null;\n\nconst tableFromLocalStorage = localStorage.getItem('tableData');\n\nif (tableFromLocalStorage !== null) {\n    const arrFromLocalStorage = JSON.parse(tableFromLocalStorage);\n    console.log(arrFromLocalStorage)\n\n    const makeMarkup = arrFromLocalStorage.map(item => {\n        return `<tr>\n                    <td>${item.NAME}</td>\n                    <td>${item.POPULATION}</td>\n                    <td>${item.PERSENT}</td>\n                </tr>`;\n    })\n\n    refs.tbody.insertAdjacentHTML('beforeend', makeMarkup.join(''))\n}\n\nconst onClickButtonAdd = () => {\n    if (refs.inputName.value === '' ||\n        refs.inputPopulation.value === '' ||\n        refs.inputPersent.value === '') {\n        return;\n    }\n\n    const markup = `<tr>\n                        <td>${refs.inputName.value}</td>\n                        <td>${refs.inputPopulation.value}</td>\n                        <td>${refs.inputPersent.value}</td>\n                    </tr>`;\n\n    refs.tbody.insertAdjacentHTML('beforeend', markup)\n\n    const objData = {\n        NAME: refs.inputName.value,\n        POPULATION: refs.inputPopulation.value,\n        PERSENT: refs.inputPersent.value,\n    };  \n\n    try {\n        const tableFromLocalStorage = localStorage.getItem('tableData');\n\n        if (tableFromLocalStorage === null) {\n            arrData = [...arrData, objData]\n            localStorage.setItem('tableData', JSON.stringify(arrData))\n        }\n\n        if (tableFromLocalStorage !== null) {\n            const arrFromLocalStorage = JSON.parse(tableFromLocalStorage);\n            arrData = [...arrFromLocalStorage, objData]\n            localStorage.setItem('tableData', JSON.stringify(arrData))\n        }  \n    } catch (error) {\n        console.log(error.message)\n    }         \n\n    refs.inputName.value = '';\n    refs.inputPopulation.value = '';\n    refs.inputPersent.value = '';\n}\n\nconst onClickButtonRemove = () => {\n    refs.rows = document.querySelectorAll('tbody tr');\n\n    if (refs.rows.length === 0) {\n        return;\n    }\n\n    try {\n        const strFromLocalStorage = localStorage.getItem('tableData');\n\n        if (strFromLocalStorage !== null) {\n            const arrFromLocalStorage = JSON.parse(strFromLocalStorage);\n\n            if (arrFromLocalStorage.length > 1) {\n                arrFromLocalStorage.pop()\n                localStorage.setItem('tableData', JSON.stringify(arrFromLocalStorage))\n            } else {\n                localStorage.removeItem('tableData');\n            }             \n        }        \n    } catch (error){\n        console.log(error.message)\n    }    \n\n    refs.rows[refs.rows.length-1].remove();\n}\n\nrefs.buttonAdd.addEventListener('click', onClickButtonAdd)\n\nrefs.buttonRemove.addEventListener('click', onClickButtonRemove)"],"names":["refs","tbody","document","querySelector","inputName","inputPopulation","inputPersent","buttonRemove","buttonAdd","arrData","NAME","POPULATION","PERSENT","tableFromLocalStorage","localStorage","getItem","arrFromLocalStorage","JSON","parse","console","log","makeMarkup","map","item","insertAdjacentHTML","join","onClickButtonAdd","value","markup","objData","setItem","stringify","error","message","onClickButtonRemove","rows","querySelectorAll","length","strFromLocalStorage","pop","removeItem","remove","addEventListener"],"version":3,"file":"task-6.0f9285c0.js.map"}